/**
 * Autogenerated by Thrift Compiler (0.10.0)
 *
 * DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
 *  @generated
 */
using System;
using System.Collections;
using System.Collections.Generic;
using System.Text;
using System.IO;
using Thrift;
using Thrift.Collections;
using System.Runtime.Serialization;
using Thrift.Protocol;
using Thrift.Transport;

namespace Worldpay.Innovation.WPWithin.Rpc
{
  public partial class WPWithin {
    /// <summary>
    /// WorldpayWithin Service - exposing all WorldpayWithin SDK functionality
    /// </summary>
    public interface ISync {
      void setup(string name, string description);
      void addService(Worldpay.Innovation.WPWithin.Rpc.Types.Service svc);
      void removeService(Worldpay.Innovation.WPWithin.Rpc.Types.Service svc);
      void initConsumer(string scheme, string hostname, int port, string urlPrefix, string clientID, Worldpay.Innovation.WPWithin.Rpc.Types.HCECard hceCard);
      void initProducer(string merchantClientKey, string merchantServiceKey);
      Worldpay.Innovation.WPWithin.Rpc.Types.Device getDevice();
      void startServiceBroadcast(int timeoutMillis);
      void stopServiceBroadcast();
      THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage> deviceDiscovery(int timeoutMillis);
      THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails> requestServices();
      THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.Price> getServicePrices(int serviceId);
      Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse selectService(int serviceId, int numberOfUnits, int priceId);
      Worldpay.Innovation.WPWithin.Rpc.Types.PaymentResponse makePayment(Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse request);
      Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken beginServiceDelivery(int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsToSupply);
      Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken endServiceDelivery(int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsReceived);
    }

    /// <summary>
    /// WorldpayWithin Service - exposing all WorldpayWithin SDK functionality
    /// </summary>
    public interface Iface : ISync {
      #if SILVERLIGHT
      IAsyncResult Begin_setup(AsyncCallback callback, object state, string name, string description);
      void End_setup(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_addService(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.Service svc);
      void End_addService(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_removeService(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.Service svc);
      void End_removeService(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_initConsumer(AsyncCallback callback, object state, string scheme, string hostname, int port, string urlPrefix, string clientID, Worldpay.Innovation.WPWithin.Rpc.Types.HCECard hceCard);
      void End_initConsumer(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_initProducer(AsyncCallback callback, object state, string merchantClientKey, string merchantServiceKey);
      void End_initProducer(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_getDevice(AsyncCallback callback, object state);
      Worldpay.Innovation.WPWithin.Rpc.Types.Device End_getDevice(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_startServiceBroadcast(AsyncCallback callback, object state, int timeoutMillis);
      void End_startServiceBroadcast(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_stopServiceBroadcast(AsyncCallback callback, object state);
      void End_stopServiceBroadcast(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_deviceDiscovery(AsyncCallback callback, object state, int timeoutMillis);
      THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage> End_deviceDiscovery(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_requestServices(AsyncCallback callback, object state);
      THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails> End_requestServices(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_getServicePrices(AsyncCallback callback, object state, int serviceId);
      THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.Price> End_getServicePrices(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_selectService(AsyncCallback callback, object state, int serviceId, int numberOfUnits, int priceId);
      Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse End_selectService(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_makePayment(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse request);
      Worldpay.Innovation.WPWithin.Rpc.Types.PaymentResponse End_makePayment(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_beginServiceDelivery(AsyncCallback callback, object state, int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsToSupply);
      Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken End_beginServiceDelivery(IAsyncResult asyncResult);
      #endif
      #if SILVERLIGHT
      IAsyncResult Begin_endServiceDelivery(AsyncCallback callback, object state, int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsReceived);
      Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken End_endServiceDelivery(IAsyncResult asyncResult);
      #endif
    }

    /// <summary>
    /// WorldpayWithin Service - exposing all WorldpayWithin SDK functionality
    /// </summary>
    public class Client : IDisposable, Iface {
      public Client(TProtocol prot) : this(prot, prot)
      {
      }

      public Client(TProtocol iprot, TProtocol oprot)
      {
        iprot_ = iprot;
        oprot_ = oprot;
      }

      protected TProtocol iprot_;
      protected TProtocol oprot_;
      protected int seqid_;

      public TProtocol InputProtocol
      {
        get { return iprot_; }
      }
      public TProtocol OutputProtocol
      {
        get { return oprot_; }
      }


      #region " IDisposable Support "
      private bool _IsDisposed;

      // IDisposable
      public void Dispose()
      {
        Dispose(true);
      }
      

      protected virtual void Dispose(bool disposing)
      {
        if (!_IsDisposed)
        {
          if (disposing)
          {
            if (iprot_ != null)
            {
              ((IDisposable)iprot_).Dispose();
            }
            if (oprot_ != null)
            {
              ((IDisposable)oprot_).Dispose();
            }
          }
        }
        _IsDisposed = true;
      }
      #endregion


      
      #if SILVERLIGHT
      public IAsyncResult Begin_setup(AsyncCallback callback, object state, string name, string description)
      {
        return send_setup(callback, state, name, description);
      }

      public void End_setup(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        recv_setup();
      }

      #endif

      public void setup(string name, string description)
      {
        #if !SILVERLIGHT
        send_setup(name, description);
        recv_setup();

        #else
        var asyncResult = Begin_setup(null, null, name, description);
        End_setup(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_setup(AsyncCallback callback, object state, string name, string description)
      #else
      public void send_setup(string name, string description)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("setup", TMessageType.Call, seqid_));
        setup_args args = new setup_args();
        args.Name = name;
        args.Description = description;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public void recv_setup()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        setup_result result = new setup_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Err != null) {
          throw result.Err;
        }
        return;
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_addService(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      {
        return send_addService(callback, state, svc);
      }

      public void End_addService(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        recv_addService();
      }

      #endif

      public void addService(Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      {
        #if !SILVERLIGHT
        send_addService(svc);
        recv_addService();

        #else
        var asyncResult = Begin_addService(null, null, svc);
        End_addService(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_addService(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      #else
      public void send_addService(Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("addService", TMessageType.Call, seqid_));
        addService_args args = new addService_args();
        args.Svc = svc;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public void recv_addService()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        addService_result result = new addService_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Err != null) {
          throw result.Err;
        }
        return;
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_removeService(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      {
        return send_removeService(callback, state, svc);
      }

      public void End_removeService(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        recv_removeService();
      }

      #endif

      public void removeService(Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      {
        #if !SILVERLIGHT
        send_removeService(svc);
        recv_removeService();

        #else
        var asyncResult = Begin_removeService(null, null, svc);
        End_removeService(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_removeService(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      #else
      public void send_removeService(Worldpay.Innovation.WPWithin.Rpc.Types.Service svc)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("removeService", TMessageType.Call, seqid_));
        removeService_args args = new removeService_args();
        args.Svc = svc;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public void recv_removeService()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        removeService_result result = new removeService_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Err != null) {
          throw result.Err;
        }
        return;
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_initConsumer(AsyncCallback callback, object state, string scheme, string hostname, int port, string urlPrefix, string clientID, Worldpay.Innovation.WPWithin.Rpc.Types.HCECard hceCard)
      {
        return send_initConsumer(callback, state, scheme, hostname, port, urlPrefix, clientID, hceCard);
      }

      public void End_initConsumer(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        recv_initConsumer();
      }

      #endif

      public void initConsumer(string scheme, string hostname, int port, string urlPrefix, string clientID, Worldpay.Innovation.WPWithin.Rpc.Types.HCECard hceCard)
      {
        #if !SILVERLIGHT
        send_initConsumer(scheme, hostname, port, urlPrefix, clientID, hceCard);
        recv_initConsumer();

        #else
        var asyncResult = Begin_initConsumer(null, null, scheme, hostname, port, urlPrefix, clientID, hceCard);
        End_initConsumer(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_initConsumer(AsyncCallback callback, object state, string scheme, string hostname, int port, string urlPrefix, string clientID, Worldpay.Innovation.WPWithin.Rpc.Types.HCECard hceCard)
      #else
      public void send_initConsumer(string scheme, string hostname, int port, string urlPrefix, string clientID, Worldpay.Innovation.WPWithin.Rpc.Types.HCECard hceCard)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("initConsumer", TMessageType.Call, seqid_));
        initConsumer_args args = new initConsumer_args();
        args.Scheme = scheme;
        args.Hostname = hostname;
        args.Port = port;
        args.UrlPrefix = urlPrefix;
        args.ClientID = clientID;
        args.HceCard = hceCard;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public void recv_initConsumer()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        initConsumer_result result = new initConsumer_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Err != null) {
          throw result.Err;
        }
        return;
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_initProducer(AsyncCallback callback, object state, string merchantClientKey, string merchantServiceKey)
      {
        return send_initProducer(callback, state, merchantClientKey, merchantServiceKey);
      }

      public void End_initProducer(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        recv_initProducer();
      }

      #endif

      public void initProducer(string merchantClientKey, string merchantServiceKey)
      {
        #if !SILVERLIGHT
        send_initProducer(merchantClientKey, merchantServiceKey);
        recv_initProducer();

        #else
        var asyncResult = Begin_initProducer(null, null, merchantClientKey, merchantServiceKey);
        End_initProducer(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_initProducer(AsyncCallback callback, object state, string merchantClientKey, string merchantServiceKey)
      #else
      public void send_initProducer(string merchantClientKey, string merchantServiceKey)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("initProducer", TMessageType.Call, seqid_));
        initProducer_args args = new initProducer_args();
        args.MerchantClientKey = merchantClientKey;
        args.MerchantServiceKey = merchantServiceKey;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public void recv_initProducer()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        initProducer_result result = new initProducer_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Err != null) {
          throw result.Err;
        }
        return;
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_getDevice(AsyncCallback callback, object state)
      {
        return send_getDevice(callback, state);
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Device End_getDevice(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_getDevice();
      }

      #endif

      public Worldpay.Innovation.WPWithin.Rpc.Types.Device getDevice()
      {
        #if !SILVERLIGHT
        send_getDevice();
        return recv_getDevice();

        #else
        var asyncResult = Begin_getDevice(null, null);
        return End_getDevice(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_getDevice(AsyncCallback callback, object state)
      #else
      public void send_getDevice()
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("getDevice", TMessageType.Call, seqid_));
        getDevice_args args = new getDevice_args();
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Device recv_getDevice()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        getDevice_result result = new getDevice_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "getDevice failed: unknown result");
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_startServiceBroadcast(AsyncCallback callback, object state, int timeoutMillis)
      {
        return send_startServiceBroadcast(callback, state, timeoutMillis);
      }

      public void End_startServiceBroadcast(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        recv_startServiceBroadcast();
      }

      #endif

      public void startServiceBroadcast(int timeoutMillis)
      {
        #if !SILVERLIGHT
        send_startServiceBroadcast(timeoutMillis);
        recv_startServiceBroadcast();

        #else
        var asyncResult = Begin_startServiceBroadcast(null, null, timeoutMillis);
        End_startServiceBroadcast(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_startServiceBroadcast(AsyncCallback callback, object state, int timeoutMillis)
      #else
      public void send_startServiceBroadcast(int timeoutMillis)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("startServiceBroadcast", TMessageType.Call, seqid_));
        startServiceBroadcast_args args = new startServiceBroadcast_args();
        args.TimeoutMillis = timeoutMillis;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public void recv_startServiceBroadcast()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        startServiceBroadcast_result result = new startServiceBroadcast_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Err != null) {
          throw result.Err;
        }
        return;
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_stopServiceBroadcast(AsyncCallback callback, object state)
      {
        return send_stopServiceBroadcast(callback, state);
      }

      public void End_stopServiceBroadcast(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        recv_stopServiceBroadcast();
      }

      #endif

      public void stopServiceBroadcast()
      {
        #if !SILVERLIGHT
        send_stopServiceBroadcast();
        recv_stopServiceBroadcast();

        #else
        var asyncResult = Begin_stopServiceBroadcast(null, null);
        End_stopServiceBroadcast(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_stopServiceBroadcast(AsyncCallback callback, object state)
      #else
      public void send_stopServiceBroadcast()
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("stopServiceBroadcast", TMessageType.Call, seqid_));
        stopServiceBroadcast_args args = new stopServiceBroadcast_args();
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public void recv_stopServiceBroadcast()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        stopServiceBroadcast_result result = new stopServiceBroadcast_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Err != null) {
          throw result.Err;
        }
        return;
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_deviceDiscovery(AsyncCallback callback, object state, int timeoutMillis)
      {
        return send_deviceDiscovery(callback, state, timeoutMillis);
      }

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage> End_deviceDiscovery(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_deviceDiscovery();
      }

      #endif

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage> deviceDiscovery(int timeoutMillis)
      {
        #if !SILVERLIGHT
        send_deviceDiscovery(timeoutMillis);
        return recv_deviceDiscovery();

        #else
        var asyncResult = Begin_deviceDiscovery(null, null, timeoutMillis);
        return End_deviceDiscovery(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_deviceDiscovery(AsyncCallback callback, object state, int timeoutMillis)
      #else
      public void send_deviceDiscovery(int timeoutMillis)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("deviceDiscovery", TMessageType.Call, seqid_));
        deviceDiscovery_args args = new deviceDiscovery_args();
        args.TimeoutMillis = timeoutMillis;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage> recv_deviceDiscovery()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        deviceDiscovery_result result = new deviceDiscovery_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        if (result.Err != null) {
          throw result.Err;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "deviceDiscovery failed: unknown result");
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_requestServices(AsyncCallback callback, object state)
      {
        return send_requestServices(callback, state);
      }

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails> End_requestServices(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_requestServices();
      }

      #endif

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails> requestServices()
      {
        #if !SILVERLIGHT
        send_requestServices();
        return recv_requestServices();

        #else
        var asyncResult = Begin_requestServices(null, null);
        return End_requestServices(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_requestServices(AsyncCallback callback, object state)
      #else
      public void send_requestServices()
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("requestServices", TMessageType.Call, seqid_));
        requestServices_args args = new requestServices_args();
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails> recv_requestServices()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        requestServices_result result = new requestServices_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        if (result.Err != null) {
          throw result.Err;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "requestServices failed: unknown result");
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_getServicePrices(AsyncCallback callback, object state, int serviceId)
      {
        return send_getServicePrices(callback, state, serviceId);
      }

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.Price> End_getServicePrices(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_getServicePrices();
      }

      #endif

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.Price> getServicePrices(int serviceId)
      {
        #if !SILVERLIGHT
        send_getServicePrices(serviceId);
        return recv_getServicePrices();

        #else
        var asyncResult = Begin_getServicePrices(null, null, serviceId);
        return End_getServicePrices(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_getServicePrices(AsyncCallback callback, object state, int serviceId)
      #else
      public void send_getServicePrices(int serviceId)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("getServicePrices", TMessageType.Call, seqid_));
        getServicePrices_args args = new getServicePrices_args();
        args.ServiceId = serviceId;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.Price> recv_getServicePrices()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        getServicePrices_result result = new getServicePrices_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        if (result.Err != null) {
          throw result.Err;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "getServicePrices failed: unknown result");
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_selectService(AsyncCallback callback, object state, int serviceId, int numberOfUnits, int priceId)
      {
        return send_selectService(callback, state, serviceId, numberOfUnits, priceId);
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse End_selectService(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_selectService();
      }

      #endif

      public Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse selectService(int serviceId, int numberOfUnits, int priceId)
      {
        #if !SILVERLIGHT
        send_selectService(serviceId, numberOfUnits, priceId);
        return recv_selectService();

        #else
        var asyncResult = Begin_selectService(null, null, serviceId, numberOfUnits, priceId);
        return End_selectService(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_selectService(AsyncCallback callback, object state, int serviceId, int numberOfUnits, int priceId)
      #else
      public void send_selectService(int serviceId, int numberOfUnits, int priceId)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("selectService", TMessageType.Call, seqid_));
        selectService_args args = new selectService_args();
        args.ServiceId = serviceId;
        args.NumberOfUnits = numberOfUnits;
        args.PriceId = priceId;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse recv_selectService()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        selectService_result result = new selectService_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        if (result.Err != null) {
          throw result.Err;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "selectService failed: unknown result");
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_makePayment(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse request)
      {
        return send_makePayment(callback, state, request);
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.PaymentResponse End_makePayment(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_makePayment();
      }

      #endif

      public Worldpay.Innovation.WPWithin.Rpc.Types.PaymentResponse makePayment(Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse request)
      {
        #if !SILVERLIGHT
        send_makePayment(request);
        return recv_makePayment();

        #else
        var asyncResult = Begin_makePayment(null, null, request);
        return End_makePayment(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_makePayment(AsyncCallback callback, object state, Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse request)
      #else
      public void send_makePayment(Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse request)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("makePayment", TMessageType.Call, seqid_));
        makePayment_args args = new makePayment_args();
        args.Request = request;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.PaymentResponse recv_makePayment()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        makePayment_result result = new makePayment_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        if (result.Err != null) {
          throw result.Err;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "makePayment failed: unknown result");
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_beginServiceDelivery(AsyncCallback callback, object state, int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsToSupply)
      {
        return send_beginServiceDelivery(callback, state, serviceID, serviceDeliveryToken, unitsToSupply);
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken End_beginServiceDelivery(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_beginServiceDelivery();
      }

      #endif

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken beginServiceDelivery(int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsToSupply)
      {
        #if !SILVERLIGHT
        send_beginServiceDelivery(serviceID, serviceDeliveryToken, unitsToSupply);
        return recv_beginServiceDelivery();

        #else
        var asyncResult = Begin_beginServiceDelivery(null, null, serviceID, serviceDeliveryToken, unitsToSupply);
        return End_beginServiceDelivery(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_beginServiceDelivery(AsyncCallback callback, object state, int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsToSupply)
      #else
      public void send_beginServiceDelivery(int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsToSupply)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("beginServiceDelivery", TMessageType.Call, seqid_));
        beginServiceDelivery_args args = new beginServiceDelivery_args();
        args.ServiceID = serviceID;
        args.ServiceDeliveryToken = serviceDeliveryToken;
        args.UnitsToSupply = unitsToSupply;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken recv_beginServiceDelivery()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        beginServiceDelivery_result result = new beginServiceDelivery_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        if (result.Err != null) {
          throw result.Err;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "beginServiceDelivery failed: unknown result");
      }

      
      #if SILVERLIGHT
      public IAsyncResult Begin_endServiceDelivery(AsyncCallback callback, object state, int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsReceived)
      {
        return send_endServiceDelivery(callback, state, serviceID, serviceDeliveryToken, unitsReceived);
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken End_endServiceDelivery(IAsyncResult asyncResult)
      {
        oprot_.Transport.EndFlush(asyncResult);
        return recv_endServiceDelivery();
      }

      #endif

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken endServiceDelivery(int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsReceived)
      {
        #if !SILVERLIGHT
        send_endServiceDelivery(serviceID, serviceDeliveryToken, unitsReceived);
        return recv_endServiceDelivery();

        #else
        var asyncResult = Begin_endServiceDelivery(null, null, serviceID, serviceDeliveryToken, unitsReceived);
        return End_endServiceDelivery(asyncResult);

        #endif
      }
      #if SILVERLIGHT
      public IAsyncResult send_endServiceDelivery(AsyncCallback callback, object state, int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsReceived)
      #else
      public void send_endServiceDelivery(int serviceID, Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken serviceDeliveryToken, int unitsReceived)
      #endif
      {
        oprot_.WriteMessageBegin(new TMessage("endServiceDelivery", TMessageType.Call, seqid_));
        endServiceDelivery_args args = new endServiceDelivery_args();
        args.ServiceID = serviceID;
        args.ServiceDeliveryToken = serviceDeliveryToken;
        args.UnitsReceived = unitsReceived;
        args.Write(oprot_);
        oprot_.WriteMessageEnd();
        #if SILVERLIGHT
        return oprot_.Transport.BeginFlush(callback, state);
        #else
        oprot_.Transport.Flush();
        #endif
      }

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken recv_endServiceDelivery()
      {
        TMessage msg = iprot_.ReadMessageBegin();
        if (msg.Type == TMessageType.Exception) {
          TApplicationException x = TApplicationException.Read(iprot_);
          iprot_.ReadMessageEnd();
          throw x;
        }
        endServiceDelivery_result result = new endServiceDelivery_result();
        result.Read(iprot_);
        iprot_.ReadMessageEnd();
        if (result.Success != null) {
          return result.Success;
        }
        if (result.Err != null) {
          throw result.Err;
        }
        throw new TApplicationException(TApplicationException.ExceptionType.MissingResult, "endServiceDelivery failed: unknown result");
      }

    }
    public class Processor : TProcessor {
      public Processor(ISync iface)
      {
        iface_ = iface;
        processMap_["setup"] = setup_Process;
        processMap_["addService"] = addService_Process;
        processMap_["removeService"] = removeService_Process;
        processMap_["initConsumer"] = initConsumer_Process;
        processMap_["initProducer"] = initProducer_Process;
        processMap_["getDevice"] = getDevice_Process;
        processMap_["startServiceBroadcast"] = startServiceBroadcast_Process;
        processMap_["stopServiceBroadcast"] = stopServiceBroadcast_Process;
        processMap_["deviceDiscovery"] = deviceDiscovery_Process;
        processMap_["requestServices"] = requestServices_Process;
        processMap_["getServicePrices"] = getServicePrices_Process;
        processMap_["selectService"] = selectService_Process;
        processMap_["makePayment"] = makePayment_Process;
        processMap_["beginServiceDelivery"] = beginServiceDelivery_Process;
        processMap_["endServiceDelivery"] = endServiceDelivery_Process;
      }

      protected delegate void ProcessFunction(int seqid, TProtocol iprot, TProtocol oprot);
      private ISync iface_;
      protected Dictionary<string, ProcessFunction> processMap_ = new Dictionary<string, ProcessFunction>();

      public bool Process(TProtocol iprot, TProtocol oprot)
      {
        try
        {
          TMessage msg = iprot.ReadMessageBegin();
          ProcessFunction fn;
          processMap_.TryGetValue(msg.Name, out fn);
          if (fn == null) {
            TProtocolUtil.Skip(iprot, TType.Struct);
            iprot.ReadMessageEnd();
            TApplicationException x = new TApplicationException (TApplicationException.ExceptionType.UnknownMethod, "Invalid method name: '" + msg.Name + "'");
            oprot.WriteMessageBegin(new TMessage(msg.Name, TMessageType.Exception, msg.SeqID));
            x.Write(oprot);
            oprot.WriteMessageEnd();
            oprot.Transport.Flush();
            return true;
          }
          fn(msg.SeqID, iprot, oprot);
        }
        catch (IOException)
        {
          return false;
        }
        return true;
      }

      public void setup_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        setup_args args = new setup_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        setup_result result = new setup_result();
        try
        {
          try
          {
            iface_.setup(args.Name, args.Description);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("setup", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("setup", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void addService_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        addService_args args = new addService_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        addService_result result = new addService_result();
        try
        {
          try
          {
            iface_.addService(args.Svc);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("addService", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("addService", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void removeService_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        removeService_args args = new removeService_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        removeService_result result = new removeService_result();
        try
        {
          try
          {
            iface_.removeService(args.Svc);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("removeService", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("removeService", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void initConsumer_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        initConsumer_args args = new initConsumer_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        initConsumer_result result = new initConsumer_result();
        try
        {
          try
          {
            iface_.initConsumer(args.Scheme, args.Hostname, args.Port.Value, args.UrlPrefix, args.ClientID, args.HceCard);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("initConsumer", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("initConsumer", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void initProducer_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        initProducer_args args = new initProducer_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        initProducer_result result = new initProducer_result();
        try
        {
          try
          {
            iface_.initProducer(args.MerchantClientKey, args.MerchantServiceKey);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("initProducer", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("initProducer", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void getDevice_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        getDevice_args args = new getDevice_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        getDevice_result result = new getDevice_result();
        try
        {
          result.Success = iface_.getDevice();
          oprot.WriteMessageBegin(new TMessage("getDevice", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("getDevice", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void startServiceBroadcast_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        startServiceBroadcast_args args = new startServiceBroadcast_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        startServiceBroadcast_result result = new startServiceBroadcast_result();
        try
        {
          try
          {
            iface_.startServiceBroadcast(args.TimeoutMillis.Value);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("startServiceBroadcast", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("startServiceBroadcast", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void stopServiceBroadcast_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        stopServiceBroadcast_args args = new stopServiceBroadcast_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        stopServiceBroadcast_result result = new stopServiceBroadcast_result();
        try
        {
          try
          {
            iface_.stopServiceBroadcast();
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("stopServiceBroadcast", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("stopServiceBroadcast", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void deviceDiscovery_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        deviceDiscovery_args args = new deviceDiscovery_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        deviceDiscovery_result result = new deviceDiscovery_result();
        try
        {
          try
          {
            result.Success = iface_.deviceDiscovery(args.TimeoutMillis.Value);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("deviceDiscovery", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("deviceDiscovery", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void requestServices_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        requestServices_args args = new requestServices_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        requestServices_result result = new requestServices_result();
        try
        {
          try
          {
            result.Success = iface_.requestServices();
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("requestServices", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("requestServices", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void getServicePrices_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        getServicePrices_args args = new getServicePrices_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        getServicePrices_result result = new getServicePrices_result();
        try
        {
          try
          {
            result.Success = iface_.getServicePrices(args.ServiceId.Value);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("getServicePrices", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("getServicePrices", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void selectService_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        selectService_args args = new selectService_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        selectService_result result = new selectService_result();
        try
        {
          try
          {
            result.Success = iface_.selectService(args.ServiceId.Value, args.NumberOfUnits.Value, args.PriceId.Value);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("selectService", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("selectService", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void makePayment_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        makePayment_args args = new makePayment_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        makePayment_result result = new makePayment_result();
        try
        {
          try
          {
            result.Success = iface_.makePayment(args.Request);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("makePayment", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("makePayment", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void beginServiceDelivery_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        beginServiceDelivery_args args = new beginServiceDelivery_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        beginServiceDelivery_result result = new beginServiceDelivery_result();
        try
        {
          try
          {
            result.Success = iface_.beginServiceDelivery(args.ServiceID.Value, args.ServiceDeliveryToken, args.UnitsToSupply.Value);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("beginServiceDelivery", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("beginServiceDelivery", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

      public void endServiceDelivery_Process(int seqid, TProtocol iprot, TProtocol oprot)
      {
        endServiceDelivery_args args = new endServiceDelivery_args();
        args.Read(iprot);
        iprot.ReadMessageEnd();
        endServiceDelivery_result result = new endServiceDelivery_result();
        try
        {
          try
          {
            result.Success = iface_.endServiceDelivery(args.ServiceID.Value, args.ServiceDeliveryToken, args.UnitsReceived.Value);
          }
          catch (Worldpay.Innovation.WPWithin.Rpc.Types.Error err)
          {
            result.Err = err;
          }
          oprot.WriteMessageBegin(new TMessage("endServiceDelivery", TMessageType.Reply, seqid)); 
          result.Write(oprot);
        }
        catch (TTransportException)
        {
          throw;
        }
        catch (Exception ex)
        {
          Console.Error.WriteLine("Error occurred in processor:");
          Console.Error.WriteLine(ex.ToString());
          TApplicationException x = new TApplicationException        (TApplicationException.ExceptionType.InternalError," Internal error.");
          oprot.WriteMessageBegin(new TMessage("endServiceDelivery", TMessageType.Exception, seqid));
          x.Write(oprot);
        }
        oprot.WriteMessageEnd();
        oprot.Transport.Flush();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class setup_args : TBase
    {

      public string Name { get; set; }

      public string Description { get; set; }

      public setup_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.String) {
                  Name = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 2:
                if (field.Type == TType.String) {
                  Description = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("setup_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (Name != null) {
            field.Name = "name";
            field.Type = TType.String;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(Name);
            oprot.WriteFieldEnd();
          }
          if (Description != null) {
            field.Name = "description";
            field.Type = TType.String;
            field.ID = 2;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(Description);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("setup_args(");
        bool __first = true;
        if (Name != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Name: ");
          __sb.Append(Name);
        }
        if (Description != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Description: ");
          __sb.Append(Description);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class setup_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public setup_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("setup_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("setup_result(");
        bool __first = true;
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class addService_args : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Service Svc { get; set; }

      public addService_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Svc = new Worldpay.Innovation.WPWithin.Rpc.Types.Service();
                  Svc.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("addService_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (Svc != null) {
            field.Name = "svc";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Svc.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("addService_args(");
        bool __first = true;
        if (Svc != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Svc: ");
          __sb.Append(Svc== null ? "<null>" : Svc.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class addService_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public addService_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("addService_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("addService_result(");
        bool __first = true;
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class removeService_args : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Service Svc { get; set; }

      public removeService_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Svc = new Worldpay.Innovation.WPWithin.Rpc.Types.Service();
                  Svc.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("removeService_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (Svc != null) {
            field.Name = "svc";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Svc.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("removeService_args(");
        bool __first = true;
        if (Svc != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Svc: ");
          __sb.Append(Svc== null ? "<null>" : Svc.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class removeService_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public removeService_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("removeService_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("removeService_result(");
        bool __first = true;
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class initConsumer_args : TBase
    {

      public string Scheme { get; set; }

      public string Hostname { get; set; }

      public int? Port { get; set; }

      public string UrlPrefix { get; set; }

      public string ClientID { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.HCECard HceCard { get; set; }

      public initConsumer_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.String) {
                  Scheme = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 2:
                if (field.Type == TType.String) {
                  Hostname = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 3:
                if (field.Type == TType.I32) {
                  Port = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 4:
                if (field.Type == TType.String) {
                  UrlPrefix = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 5:
                if (field.Type == TType.String) {
                  ClientID = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 6:
                if (field.Type == TType.Struct) {
                  HceCard = new Worldpay.Innovation.WPWithin.Rpc.Types.HCECard();
                  HceCard.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("initConsumer_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (Scheme != null) {
            field.Name = "scheme";
            field.Type = TType.String;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(Scheme);
            oprot.WriteFieldEnd();
          }
          if (Hostname != null) {
            field.Name = "hostname";
            field.Type = TType.String;
            field.ID = 2;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(Hostname);
            oprot.WriteFieldEnd();
          }
          if (Port != null) {
            field.Name = "port";
            field.Type = TType.I32;
            field.ID = 3;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(Port.Value);
            oprot.WriteFieldEnd();
          }
          if (UrlPrefix != null) {
            field.Name = "urlPrefix";
            field.Type = TType.String;
            field.ID = 4;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(UrlPrefix);
            oprot.WriteFieldEnd();
          }
          if (ClientID != null) {
            field.Name = "clientID";
            field.Type = TType.String;
            field.ID = 5;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(ClientID);
            oprot.WriteFieldEnd();
          }
          if (HceCard != null) {
            field.Name = "hceCard";
            field.Type = TType.Struct;
            field.ID = 6;
            oprot.WriteFieldBegin(field);
            HceCard.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("initConsumer_args(");
        bool __first = true;
        if (Scheme != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Scheme: ");
          __sb.Append(Scheme);
        }
        if (Hostname != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Hostname: ");
          __sb.Append(Hostname);
        }
        if (Port != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Port: ");
          __sb.Append(Port);
        }
        if (UrlPrefix != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("UrlPrefix: ");
          __sb.Append(UrlPrefix);
        }
        if (ClientID != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("ClientID: ");
          __sb.Append(ClientID);
        }
        if (HceCard != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("HceCard: ");
          __sb.Append(HceCard== null ? "<null>" : HceCard.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class initConsumer_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public initConsumer_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("initConsumer_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("initConsumer_result(");
        bool __first = true;
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class initProducer_args : TBase
    {

      public string MerchantClientKey { get; set; }

      public string MerchantServiceKey { get; set; }

      public initProducer_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.String) {
                  MerchantClientKey = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 2:
                if (field.Type == TType.String) {
                  MerchantServiceKey = iprot.ReadString();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("initProducer_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (MerchantClientKey != null) {
            field.Name = "merchantClientKey";
            field.Type = TType.String;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(MerchantClientKey);
            oprot.WriteFieldEnd();
          }
          if (MerchantServiceKey != null) {
            field.Name = "merchantServiceKey";
            field.Type = TType.String;
            field.ID = 2;
            oprot.WriteFieldBegin(field);
            oprot.WriteString(MerchantServiceKey);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("initProducer_args(");
        bool __first = true;
        if (MerchantClientKey != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("MerchantClientKey: ");
          __sb.Append(MerchantClientKey);
        }
        if (MerchantServiceKey != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("MerchantServiceKey: ");
          __sb.Append(MerchantServiceKey);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class initProducer_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public initProducer_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("initProducer_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("initProducer_result(");
        bool __first = true;
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class getDevice_args : TBase
    {

      public getDevice_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("getDevice_args");
          oprot.WriteStructBegin(struc);
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("getDevice_args(");
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class getDevice_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Device Success { get; set; }

      public getDevice_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Struct) {
                  Success = new Worldpay.Innovation.WPWithin.Rpc.Types.Device();
                  Success.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("getDevice_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Struct;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            Success.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("getDevice_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success== null ? "<null>" : Success.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class startServiceBroadcast_args : TBase
    {

      public int? TimeoutMillis { get; set; }

      public startServiceBroadcast_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.I32) {
                  TimeoutMillis = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("startServiceBroadcast_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (TimeoutMillis != null) {
            field.Name = "timeoutMillis";
            field.Type = TType.I32;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(TimeoutMillis.Value);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("startServiceBroadcast_args(");
        bool __first = true;
        if (TimeoutMillis != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("TimeoutMillis: ");
          __sb.Append(TimeoutMillis);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class startServiceBroadcast_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public startServiceBroadcast_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("startServiceBroadcast_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("startServiceBroadcast_result(");
        bool __first = true;
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class stopServiceBroadcast_args : TBase
    {

      public stopServiceBroadcast_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("stopServiceBroadcast_args");
          oprot.WriteStructBegin(struc);
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("stopServiceBroadcast_args(");
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class stopServiceBroadcast_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public stopServiceBroadcast_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("stopServiceBroadcast_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("stopServiceBroadcast_result(");
        bool __first = true;
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class deviceDiscovery_args : TBase
    {

      public int? TimeoutMillis { get; set; }

      public deviceDiscovery_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.I32) {
                  TimeoutMillis = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("deviceDiscovery_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (TimeoutMillis != null) {
            field.Name = "timeoutMillis";
            field.Type = TType.I32;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(TimeoutMillis.Value);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("deviceDiscovery_args(");
        bool __first = true;
        if (TimeoutMillis != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("TimeoutMillis: ");
          __sb.Append(TimeoutMillis);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class deviceDiscovery_result : TBase
    {

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage> Success { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public deviceDiscovery_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Set) {
                  {
                    Success = new THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage>();
                    TSet _set0 = iprot.ReadSetBegin();
                    for( int _i1 = 0; _i1 < _set0.Count; ++_i1)
                    {
                      Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage _elem2;
                      _elem2 = new Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage();
                      _elem2.Read(iprot);
                      Success.Add(_elem2);
                    }
                    iprot.ReadSetEnd();
                  }
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("deviceDiscovery_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Set;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            {
              oprot.WriteSetBegin(new TSet(TType.Struct, Success.Count));
              foreach (Worldpay.Innovation.WPWithin.Rpc.Types.ServiceMessage _iter3 in Success)
              {
                _iter3.Write(oprot);
              }
              oprot.WriteSetEnd();
            }
            oprot.WriteFieldEnd();
          } else if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("deviceDiscovery_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success);
        }
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class requestServices_args : TBase
    {

      public requestServices_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("requestServices_args");
          oprot.WriteStructBegin(struc);
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("requestServices_args(");
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class requestServices_result : TBase
    {

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails> Success { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public requestServices_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Set) {
                  {
                    Success = new THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails>();
                    TSet _set4 = iprot.ReadSetBegin();
                    for( int _i5 = 0; _i5 < _set4.Count; ++_i5)
                    {
                      Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails _elem6;
                      _elem6 = new Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails();
                      _elem6.Read(iprot);
                      Success.Add(_elem6);
                    }
                    iprot.ReadSetEnd();
                  }
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("requestServices_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Set;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            {
              oprot.WriteSetBegin(new TSet(TType.Struct, Success.Count));
              foreach (Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDetails _iter7 in Success)
              {
                _iter7.Write(oprot);
              }
              oprot.WriteSetEnd();
            }
            oprot.WriteFieldEnd();
          } else if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("requestServices_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success);
        }
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class getServicePrices_args : TBase
    {

      public int? ServiceId { get; set; }

      public getServicePrices_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.I32) {
                  ServiceId = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("getServicePrices_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (ServiceId != null) {
            field.Name = "serviceId";
            field.Type = TType.I32;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(ServiceId.Value);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("getServicePrices_args(");
        bool __first = true;
        if (ServiceId != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("ServiceId: ");
          __sb.Append(ServiceId);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class getServicePrices_result : TBase
    {

      public THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.Price> Success { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public getServicePrices_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Set) {
                  {
                    Success = new THashSet<Worldpay.Innovation.WPWithin.Rpc.Types.Price>();
                    TSet _set8 = iprot.ReadSetBegin();
                    for( int _i9 = 0; _i9 < _set8.Count; ++_i9)
                    {
                      Worldpay.Innovation.WPWithin.Rpc.Types.Price _elem10;
                      _elem10 = new Worldpay.Innovation.WPWithin.Rpc.Types.Price();
                      _elem10.Read(iprot);
                      Success.Add(_elem10);
                    }
                    iprot.ReadSetEnd();
                  }
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("getServicePrices_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Set;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            {
              oprot.WriteSetBegin(new TSet(TType.Struct, Success.Count));
              foreach (Worldpay.Innovation.WPWithin.Rpc.Types.Price _iter11 in Success)
              {
                _iter11.Write(oprot);
              }
              oprot.WriteSetEnd();
            }
            oprot.WriteFieldEnd();
          } else if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("getServicePrices_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success);
        }
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class selectService_args : TBase
    {

      public int? ServiceId { get; set; }

      public int? NumberOfUnits { get; set; }

      public int? PriceId { get; set; }

      public selectService_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.I32) {
                  ServiceId = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 2:
                if (field.Type == TType.I32) {
                  NumberOfUnits = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 3:
                if (field.Type == TType.I32) {
                  PriceId = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("selectService_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (ServiceId != null) {
            field.Name = "serviceId";
            field.Type = TType.I32;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(ServiceId.Value);
            oprot.WriteFieldEnd();
          }
          if (NumberOfUnits != null) {
            field.Name = "numberOfUnits";
            field.Type = TType.I32;
            field.ID = 2;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(NumberOfUnits.Value);
            oprot.WriteFieldEnd();
          }
          if (PriceId != null) {
            field.Name = "priceId";
            field.Type = TType.I32;
            field.ID = 3;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(PriceId.Value);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("selectService_args(");
        bool __first = true;
        if (ServiceId != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("ServiceId: ");
          __sb.Append(ServiceId);
        }
        if (NumberOfUnits != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("NumberOfUnits: ");
          __sb.Append(NumberOfUnits);
        }
        if (PriceId != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("PriceId: ");
          __sb.Append(PriceId);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class selectService_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse Success { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public selectService_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Struct) {
                  Success = new Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse();
                  Success.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("selectService_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Struct;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            Success.Write(oprot);
            oprot.WriteFieldEnd();
          } else if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("selectService_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success== null ? "<null>" : Success.ToString());
        }
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class makePayment_args : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse Request { get; set; }

      public makePayment_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.Struct) {
                  Request = new Worldpay.Innovation.WPWithin.Rpc.Types.TotalPriceResponse();
                  Request.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("makePayment_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (Request != null) {
            field.Name = "request";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Request.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("makePayment_args(");
        bool __first = true;
        if (Request != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Request: ");
          __sb.Append(Request== null ? "<null>" : Request.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class makePayment_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.PaymentResponse Success { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public makePayment_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Struct) {
                  Success = new Worldpay.Innovation.WPWithin.Rpc.Types.PaymentResponse();
                  Success.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("makePayment_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Struct;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            Success.Write(oprot);
            oprot.WriteFieldEnd();
          } else if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("makePayment_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success== null ? "<null>" : Success.ToString());
        }
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class beginServiceDelivery_args : TBase
    {

      public int? ServiceID { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken ServiceDeliveryToken { get; set; }

      public int? UnitsToSupply { get; set; }

      public beginServiceDelivery_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.I32) {
                  ServiceID = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 2:
                if (field.Type == TType.Struct) {
                  ServiceDeliveryToken = new Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken();
                  ServiceDeliveryToken.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 3:
                if (field.Type == TType.I32) {
                  UnitsToSupply = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("beginServiceDelivery_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (ServiceID != null) {
            field.Name = "serviceID";
            field.Type = TType.I32;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(ServiceID.Value);
            oprot.WriteFieldEnd();
          }
          if (ServiceDeliveryToken != null) {
            field.Name = "serviceDeliveryToken";
            field.Type = TType.Struct;
            field.ID = 2;
            oprot.WriteFieldBegin(field);
            ServiceDeliveryToken.Write(oprot);
            oprot.WriteFieldEnd();
          }
          if (UnitsToSupply != null) {
            field.Name = "unitsToSupply";
            field.Type = TType.I32;
            field.ID = 3;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(UnitsToSupply.Value);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("beginServiceDelivery_args(");
        bool __first = true;
        if (ServiceID != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("ServiceID: ");
          __sb.Append(ServiceID);
        }
        if (ServiceDeliveryToken != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("ServiceDeliveryToken: ");
          __sb.Append(ServiceDeliveryToken== null ? "<null>" : ServiceDeliveryToken.ToString());
        }
        if (UnitsToSupply != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("UnitsToSupply: ");
          __sb.Append(UnitsToSupply);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class beginServiceDelivery_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken Success { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public beginServiceDelivery_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Struct) {
                  Success = new Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken();
                  Success.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("beginServiceDelivery_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Struct;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            Success.Write(oprot);
            oprot.WriteFieldEnd();
          } else if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("beginServiceDelivery_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success== null ? "<null>" : Success.ToString());
        }
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class endServiceDelivery_args : TBase
    {

      public int? ServiceID { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken ServiceDeliveryToken { get; set; }

      public int? UnitsReceived { get; set; }

      public endServiceDelivery_args() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 1:
                if (field.Type == TType.I32) {
                  ServiceID = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 2:
                if (field.Type == TType.Struct) {
                  ServiceDeliveryToken = new Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken();
                  ServiceDeliveryToken.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 3:
                if (field.Type == TType.I32) {
                  UnitsReceived = iprot.ReadI32();
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("endServiceDelivery_args");
          oprot.WriteStructBegin(struc);
          TField field = new TField();
          if (ServiceID != null) {
            field.Name = "serviceID";
            field.Type = TType.I32;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(ServiceID.Value);
            oprot.WriteFieldEnd();
          }
          if (ServiceDeliveryToken != null) {
            field.Name = "serviceDeliveryToken";
            field.Type = TType.Struct;
            field.ID = 2;
            oprot.WriteFieldBegin(field);
            ServiceDeliveryToken.Write(oprot);
            oprot.WriteFieldEnd();
          }
          if (UnitsReceived != null) {
            field.Name = "unitsReceived";
            field.Type = TType.I32;
            field.ID = 3;
            oprot.WriteFieldBegin(field);
            oprot.WriteI32(UnitsReceived.Value);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("endServiceDelivery_args(");
        bool __first = true;
        if (ServiceID != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("ServiceID: ");
          __sb.Append(ServiceID);
        }
        if (ServiceDeliveryToken != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("ServiceDeliveryToken: ");
          __sb.Append(ServiceDeliveryToken== null ? "<null>" : ServiceDeliveryToken.ToString());
        }
        if (UnitsReceived != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("UnitsReceived: ");
          __sb.Append(UnitsReceived);
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }


    #if !SILVERLIGHT
    [Serializable]
    #endif
    public partial class endServiceDelivery_result : TBase
    {

      public Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken Success { get; set; }

      public Worldpay.Innovation.WPWithin.Rpc.Types.Error Err { get; set; }

      public endServiceDelivery_result() {
      }

      public void Read (TProtocol iprot)
      {
        iprot.IncrementRecursionDepth();
        try
        {
          TField field;
          iprot.ReadStructBegin();
          while (true)
          {
            field = iprot.ReadFieldBegin();
            if (field.Type == TType.Stop) { 
              break;
            }
            switch (field.ID)
            {
              case 0:
                if (field.Type == TType.Struct) {
                  Success = new Worldpay.Innovation.WPWithin.Rpc.Types.ServiceDeliveryToken();
                  Success.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              case 1:
                if (field.Type == TType.Struct) {
                  Err = new Worldpay.Innovation.WPWithin.Rpc.Types.Error();
                  Err.Read(iprot);
                } else { 
                  TProtocolUtil.Skip(iprot, field.Type);
                }
                break;
              default: 
                TProtocolUtil.Skip(iprot, field.Type);
                break;
            }
            iprot.ReadFieldEnd();
          }
          iprot.ReadStructEnd();
        }
        finally
        {
          iprot.DecrementRecursionDepth();
        }
      }

      public void Write(TProtocol oprot) {
        oprot.IncrementRecursionDepth();
        try
        {
          TStruct struc = new TStruct("endServiceDelivery_result");
          oprot.WriteStructBegin(struc);
          TField field = new TField();

          if (this.Success != null) {
            field.Name = "Success";
            field.Type = TType.Struct;
            field.ID = 0;
            oprot.WriteFieldBegin(field);
            Success.Write(oprot);
            oprot.WriteFieldEnd();
          } else if (this.Err != null) {
            field.Name = "Err";
            field.Type = TType.Struct;
            field.ID = 1;
            oprot.WriteFieldBegin(field);
            Err.Write(oprot);
            oprot.WriteFieldEnd();
          }
          oprot.WriteFieldStop();
          oprot.WriteStructEnd();
        }
        finally
        {
          oprot.DecrementRecursionDepth();
        }
      }

      public override string ToString() {
        StringBuilder __sb = new StringBuilder("endServiceDelivery_result(");
        bool __first = true;
        if (Success != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Success: ");
          __sb.Append(Success== null ? "<null>" : Success.ToString());
        }
        if (Err != null) {
          if(!__first) { __sb.Append(", "); }
          __first = false;
          __sb.Append("Err: ");
          __sb.Append(Err== null ? "<null>" : Err.ToString());
        }
        __sb.Append(")");
        return __sb.ToString();
      }

    }

  }
}
